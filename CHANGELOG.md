# Changelog

All notable changes to this project will be documented in this file.

### [0.5.4] - 2024-10-31

[release] App is added to the repo

### [0.5.5] - 2025-02-07

[fix] Fixed configuration.  
[fix] Fixed README.  
[fix] Improved debugging.  
[fix] The MQTT keep-alive package interval has been increased from 300 to 550 seconds.  
[fix] Modification of linter and tsconfig configuration. Added ignoring of bundle build files.  
[fix] Correction of color scheme.  
[fix] .gitignore update.  
[feature] Added CHANGELOG.  
[feature] Added mechanism for validating card numbers according to Annex 1C regulation, (EU) 2016/799.  
[feature] added mechanism for deleting duplicate cards from config  
[feature] Upgrade Tauri from version 1x to 2x. Updating all related dependencies, as well as cargo libraries. Version 2х of Tauri has many significant changes, including the structure and configuration of the project. More details [here](https://v2.tauri.app/start/migrate/from-tauri-1/).

### [0.5.6] - 2025-02-19

[fix] Fixed potential issue with saving/updating configuration. Added extended debug log when saving configuration.  
[fix] Changing the frequency of ping packets for MQTT sessions from 550 to 120 seconds.  
[fix] Added handling of behavior when the OS does not grant permission to write the configuration and log. Added user notification.  
[feature] Added logging of information about the operating system on which the application is running.  
[feature] Added a mechanism for getting the latest version of the application from the repository. Notification to the user in the form of a notification in the UI.   

### [0.5.7] - 2025-03-06

[fix] Improved authorization control. Added handling of unfinished authorization process due to the fault of the tracker.  
[fix] Tacho Bridge App device connection issue is fixed.  
[fix] Corrections have been made to saving the configuration. Configuration caching has been improved.  
[fix] Fixed issue with displaying current card number in edit dialog.  
[fix] Resize the application UI to a smaller size.  
[fix] Made a few corrections README.md
[feature] The 'App ident' field now has a strict format. Constant prefix TBA + a 13-digit number. The number is formed from the current timestamp in microseconds format and the first 13 digits are taken. This is necessary so that a unique identifier is generated by default within the flespi account. The prefix is ​added to separate the card and app devices identifiers.  

### [0.5.8] - 2025-03-09

[feature] Add configuration to sign and notarize Apple bundle! The build has been verified and signed by Apple, so the application no longer generates warning messages or suspicious actions. For more details, see README.md in the section "MacOS code signing and notarization".
[fix] Fixed minor bugs.
[fix] Improved stability of working with cards during long-term operation of the application.

### [0.5.9] - 2025-04-28

[fix] Fixed the problem of connecting Tacho Bridge App connection without connected cards to the computer.
[fix] Fixed the problem of incorrect card initialization in the application configuration. Cards that are mistakenly defined with an empty ATR will not be saved. 
[fix] Fixed an issue where Windows Virtual Reader was incorrectly identified as the primary reader to use.

### [0.6.0] - 2025-05-02

[feature] Added functionality for automatic protocol detection for communication with a smart card, which allows working with any version of the tachograph. In simpler terms, authentication now works with **Stonerdige** hardware.  

### [0.6.1] - 2025-05-13

[feature] Protocol detection mechanism is improved. Now the protocol is selected based on the card's preferences, which improves the stability of authorization with old-generation tachographs and Stoneridge.

### [0.6.2] - 2025-05-29

[feature] Redesigned UI. Now it's much cooler and more convenient.
[feature] Major change in how cards work inside the application. Changes have been made to card processing and the logic for sending APDU commands.
[fix] Changed the main card identifier, previously it was ATR, now it's ICCID. ATR does not provide the proper level of uniqueness as ICCID, so collisions and crashes in the application could occur where different cards were defined as one, now this problem has been fixed. Now ICCID is used as a unique card identifier.
[fix] Due to changes in the identifier, changes have been made to the configuration structure that is stored locally on the computer. Previously, this was a combination of ATR = Card_number, now the card identifier is card_number, which is an object and contains information available to it, such as iccid, expire date, etc.
[fix] Refactoring and bug fixes.
[fix] Fixed a critical bug with the application looping if a physically faulty reader or broken drivers are connected.